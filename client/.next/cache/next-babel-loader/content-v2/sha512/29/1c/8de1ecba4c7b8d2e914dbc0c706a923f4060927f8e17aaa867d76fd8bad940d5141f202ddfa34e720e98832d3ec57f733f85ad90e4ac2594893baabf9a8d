{"ast":null,"code":"var _jsxFileName = \"/Users/guillaumeesnault/Documents/Projects/pokemon-generator/client/pages/index.tsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\nimport { HStack, Container, Flex } from \"@chakra-ui/react\";\nimport { serverSideTranslations } from \"next-i18next/serverSideTranslations\";\nimport BackgroundBlur from \"~components/BackgroundBlur\";\nimport Card from \"~components/Card\";\nimport CardForm from \"~components/CardForm\";\nimport { CARD_DEFAULT_STATE } from \"~data/card\";\nimport { decrypt, encrypt } from \"~utils/cache\";\nimport { useForm, FormProvider } from \"react-hook-form\";\nimport PanelOptions from \"~components/PanelOptions\";\nimport Nav from \"~components/Nav\";\n\nconst Home = () => {\n  const cachedCard = false ? localStorage.getItem(process.env.REACT_APP_KEY_CACHE) : null;\n  console.log(cachedCard);\n  const form = useForm({\n    defaultValues: cachedCard ? decrypt(cachedCard, process.env.REACT_APP_ENCRYPT_KEY) : CARD_DEFAULT_STATE\n  });\n\n  const onSubmit = data => {\n    console.log(data);\n  };\n\n  const onChange = () => {\n    localStorage.setItem(process.env.REACT_APP_KEY_CACHE, encrypt(form.getValues(), \"pkgenerator\"));\n  };\n\n  return __jsx(FormProvider, _extends({}, form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }), __jsx(\"form\", {\n    onSubmit: form.handleSubmit(onSubmit),\n    onChange: onChange,\n    style: {\n      height: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, __jsx(BackgroundBlur, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }), __jsx(Container, {\n    h: \"100%\",\n    py: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, __jsx(HStack, {\n    justifyContent: \"center\",\n    h: \"100%\",\n    alignItems: \"flex-start\",\n    spacing: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, __jsx(PanelOptions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }), __jsx(CardForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }), __jsx(Flex, {\n    flex: 2,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: \"100%\",\n    borderRadius: \"md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, __jsx(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }), __jsx(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nexport const getServerSideProps = async ({\n  locale\n}) => {\n  return {\n    props: _objectSpread({}, await serverSideTranslations(locale, [\"common\", \"generator\"]))\n  };\n};\nexport default Home;","map":{"version":3,"sources":["/Users/guillaumeesnault/Documents/Projects/pokemon-generator/client/pages/index.tsx"],"names":["React","HStack","Container","Flex","serverSideTranslations","BackgroundBlur","Card","CardForm","CARD_DEFAULT_STATE","decrypt","encrypt","useForm","FormProvider","PanelOptions","Nav","Home","cachedCard","localStorage","getItem","process","env","REACT_APP_KEY_CACHE","console","log","form","defaultValues","REACT_APP_ENCRYPT_KEY","onSubmit","data","onChange","setItem","getValues","handleSubmit","height","getServerSideProps","locale","props"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { GetServerSideProps, NextPage } from \"next\";\nimport { HStack, Container, Flex } from \"@chakra-ui/react\";\nimport { SSRConfig } from \"next-i18next\";\nimport { serverSideTranslations } from \"next-i18next/serverSideTranslations\";\nimport BackgroundBlur from \"~components/BackgroundBlur\";\nimport Card from \"~components/Card\";\nimport CardForm from \"~components/CardForm\";\nimport { CARD_DEFAULT_STATE } from \"~data/card\";\nimport { decrypt, encrypt } from \"~utils/cache\";\nimport { useForm, FormProvider } from \"react-hook-form\";\nimport PanelOptions from \"~components/PanelOptions\";\nimport Nav from \"~components/Nav\";\n\nconst Home: NextPage = () => {\n  const cachedCard =\n    typeof window !== \"undefined\"\n      ? localStorage.getItem(process.env.REACT_APP_KEY_CACHE)\n      : null;\n\n  console.log(cachedCard);\n  const form = useForm({\n    defaultValues: cachedCard\n      ? decrypt(cachedCard, process.env.REACT_APP_ENCRYPT_KEY)\n      : CARD_DEFAULT_STATE,\n  });\n\n  const onSubmit = (data) => {\n    console.log(data);\n  };\n\n  const onChange = () => {\n    localStorage.setItem(\n      process.env.REACT_APP_KEY_CACHE,\n      encrypt(form.getValues(), \"pkgenerator\")\n    );\n  };\n\n  return (\n    <FormProvider {...form}>\n      <form\n        onSubmit={form.handleSubmit(onSubmit)}\n        onChange={onChange}\n        style={{ height: \"100%\" }}\n      >\n        <BackgroundBlur />\n        <Container h=\"100%\" py={6}>\n          <HStack\n            justifyContent=\"center\"\n            h=\"100%\"\n            alignItems=\"flex-start\"\n            spacing={5}\n          >\n            <PanelOptions />\n            <CardForm />\n            <Flex\n              flex={2}\n              alignItems=\"center\"\n              justifyContent=\"center\"\n              height=\"100%\"\n              borderRadius=\"md\"\n            >\n              <Nav />\n              <Card />\n            </Flex>\n          </HStack>\n        </Container>\n      </form>\n    </FormProvider>\n  );\n};\n\nexport const getServerSideProps: GetServerSideProps<SSRConfig> = async ({\n  locale,\n}) => {\n  return {\n    props: {\n      ...(await serverSideTranslations(locale, [\"common\", \"generator\"])),\n    },\n  };\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}