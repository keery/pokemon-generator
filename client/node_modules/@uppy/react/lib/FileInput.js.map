{"version":3,"sources":["FileInput.js"],"names":["PropTypes","require","React","FileInputPlugin","propTypes","h","createElement","FileInput","Component","componentDidMount","installPlugin","componentDidUpdate","prevProps","uppy","props","uninstallPlugin","componentWillUnmount","options","id","target","container","use","plugin","getPlugin","removePlugin","render","ref","locale","pretty","bool","inputName","string","defaultProps","module","exports"],"mappings":";;AAAA,MAAMA,SAAS,GAAGC,OAAO,CAAC,YAAD,CAAzB;;AACA,MAAMC,KAAK,GAAGD,OAAO,CAAC,OAAD,CAArB;;AACA,MAAME,eAAe,GAAGF,OAAO,CAAC,kBAAD,CAA/B;;AACA,MAAMG,SAAS,GAAGH,OAAO,CAAC,aAAD,CAAzB;;AAEA,MAAMI,CAAC,GAAGH,KAAK,CAACI,aAAhB;AAEA;AACA;AACA;AACA;;AAEA,MAAMC,SAAN,SAAwBL,KAAK,CAACM,SAA9B,CAAwC;AACtCC,EAAAA,iBAAiB,GAAI;AACnB,SAAKC,aAAL;AACD;;AAEDC,EAAAA,kBAAkB,CAAEC,SAAF,EAAa;AAC7B,QAAIA,SAAS,CAACC,IAAV,KAAmB,KAAKC,KAAL,CAAWD,IAAlC,EAAwC;AACtC,WAAKE,eAAL,CAAqBH,SAArB;AACA,WAAKF,aAAL;AACD;AACF;;AAEDM,EAAAA,oBAAoB,GAAI;AACtB,SAAKD,eAAL;AACD;;AAEDL,EAAAA,aAAa,GAAI;AACf,UAAM;AAAEG,MAAAA;AAAF,QAAW,KAAKC,KAAtB;AACA,UAAMG,OAAO,GAAG;AACdC,MAAAA,EAAE,EAAE,iBADU;AAEd,SAAG,KAAKJ,KAFM;AAGdK,MAAAA,MAAM,EAAE,KAAKC;AAHC,KAAhB;AAKA,WAAOH,OAAO,CAACJ,IAAf;AAEAA,IAAAA,IAAI,CAACQ,GAAL,CAASlB,eAAT,EAA0Bc,OAA1B;AAEA,SAAKK,MAAL,GAAcT,IAAI,CAACU,SAAL,CAAeN,OAAO,CAACC,EAAvB,CAAd;AACD;;AAEDH,EAAAA,eAAe,CAAED,KAAK,GAAG,KAAKA,KAAf,EAAsB;AACnC,UAAM;AAAED,MAAAA;AAAF,QAAWC,KAAjB;AAEAD,IAAAA,IAAI,CAACW,YAAL,CAAkB,KAAKF,MAAvB;AACD;;AAEDG,EAAAA,MAAM,GAAI;AACR,WAAOpB,CAAC,CAAC,KAAD,EAAQ;AACdqB,MAAAA,GAAG,EAAGN,SAAD,IAAe;AAClB,aAAKA,SAAL,GAAiBA,SAAjB;AACD;AAHa,KAAR,CAAR;AAKD;;AA1CqC;;AA6CxCb,SAAS,CAACH,SAAV,GAAsB;AACpBS,EAAAA,IAAI,EAAET,SAAS,CAACS,IADI;AAEpBc,EAAAA,MAAM,EAAEvB,SAAS,CAACuB,MAFE;AAGpBC,EAAAA,MAAM,EAAE5B,SAAS,CAAC6B,IAHE;AAIpBC,EAAAA,SAAS,EAAE9B,SAAS,CAAC+B;AAJD,CAAtB;AAMAxB,SAAS,CAACyB,YAAV,GAAyB,EAAzB;AAGAC,MAAM,CAACC,OAAP,GAAiB3B,SAAjB","sourcesContent":["const PropTypes = require('prop-types')\nconst React = require('react')\nconst FileInputPlugin = require('@uppy/file-input')\nconst propTypes = require('./propTypes')\n\nconst h = React.createElement\n\n/**\n * React component that renders an area in which files can be dropped to be\n * uploaded.\n */\n\nclass FileInput extends React.Component {\n  componentDidMount () {\n    this.installPlugin()\n  }\n\n  componentDidUpdate (prevProps) {\n    if (prevProps.uppy !== this.props.uppy) {\n      this.uninstallPlugin(prevProps)\n      this.installPlugin()\n    }\n  }\n\n  componentWillUnmount () {\n    this.uninstallPlugin()\n  }\n\n  installPlugin () {\n    const { uppy } = this.props\n    const options = {\n      id: 'react:FileInput',\n      ...this.props,\n      target: this.container,\n    }\n    delete options.uppy\n\n    uppy.use(FileInputPlugin, options)\n\n    this.plugin = uppy.getPlugin(options.id)\n  }\n\n  uninstallPlugin (props = this.props) {\n    const { uppy } = props\n\n    uppy.removePlugin(this.plugin)\n  }\n\n  render () {\n    return h('div', {\n      ref: (container) => {\n        this.container = container\n      },\n    })\n  }\n}\n\nFileInput.propTypes = {\n  uppy: propTypes.uppy,\n  locale: propTypes.locale,\n  pretty: PropTypes.bool,\n  inputName: PropTypes.string,\n}\nFileInput.defaultProps = {\n}\n\nmodule.exports = FileInput\n"]}