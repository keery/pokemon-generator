{"version":3,"sources":["ItemList.js"],"names":["h","require","remoteFileObjToLocal","Item","VIRTUAL_SHARED_DIR","getSharedProps","fileOrFolder","props","id","title","name","getItemIcon","icon","isChecked","toggleCheckbox","e","columns","showTitles","viewType","i18n","module","exports","folders","files","handleScroll","length","map","folder","type","isDisabled","loading","isCheckboxDisabled","handleFolderClick","file","validateRestrictions","uppyFiles","currentSelection","sharedProps","restrictionReason","reason","result"],"mappings":"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","sourcesContent":["const { h } = require('preact')\nconst remoteFileObjToLocal = require('@uppy/utils/lib/remoteFileObjToLocal')\nconst Item = require('./Item/index')\n\n// Hopefully this name will not be used by Google\nconst VIRTUAL_SHARED_DIR = 'shared-with-me'\n\nconst getSharedProps = (fileOrFolder, props) => ({\n  id: fileOrFolder.id,\n  title: fileOrFolder.name,\n  getItemIcon: () => fileOrFolder.icon,\n  isChecked: props.isChecked(fileOrFolder),\n  toggleCheckbox: (e) => props.toggleCheckbox(e, fileOrFolder),\n  columns: props.columns,\n  showTitles: props.showTitles,\n  viewType: props.viewType,\n  i18n: props.i18n,\n})\n\nmodule.exports = (props) => {\n  const { folders, files, handleScroll, isChecked } = props\n\n  if (!folders.length && !files.length) {\n    return <div className=\"uppy-Provider-empty\">{props.i18n('noFilesFound')}</div>\n  }\n\n  return (\n    <div className=\"uppy-ProviderBrowser-body\">\n      <ul\n        className=\"uppy-ProviderBrowser-list\"\n        onScroll={handleScroll}\n        role=\"listbox\"\n        // making <ul> not focusable for firefox\n        tabIndex=\"-1\"\n      >\n        {folders.map(folder => {\n          return Item({\n            ...getSharedProps(folder, props),\n            type: 'folder',\n            isDisabled: isChecked(folder) ? isChecked(folder).loading : false,\n            isCheckboxDisabled: folder.id === VIRTUAL_SHARED_DIR,\n            handleFolderClick: () => props.handleFolderClick(folder),\n          })\n        })}\n        {files.map(file => {\n          const validateRestrictions = props.validateRestrictions(\n            remoteFileObjToLocal(file),\n            [...props.uppyFiles, ...props.currentSelection]\n          )\n          const sharedProps = getSharedProps(file, props)\n          const restrictionReason = validateRestrictions.reason\n\n          return Item({\n            ...sharedProps,\n            type: 'file',\n            isDisabled: !validateRestrictions.result && !sharedProps.isChecked,\n            restrictionReason,\n          })\n        })}\n      </ul>\n    </div>\n  )\n}\n"]}