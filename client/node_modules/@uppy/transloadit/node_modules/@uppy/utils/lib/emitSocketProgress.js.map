{"version":3,"sources":["emitSocketProgress.js"],"names":["throttle","require","_emitSocketProgress","uploader","progressData","file","progress","bytesUploaded","bytesTotal","uppy","log","emit","module","exports","leading","trailing"],"mappings":"AAAA,IAAMA,QAAQ,GAAGC,OAAO,CAAC,iBAAD,CAAxB;;AAEA,SAASC,mBAAT,CAA8BC,QAA9B,EAAwCC,YAAxC,EAAsDC,IAAtD,EAA4D;AAC1D,MAAQC,QAAR,GAAgDF,YAAhD,CAAQE,QAAR;AAAA,MAAkBC,aAAlB,GAAgDH,YAAhD,CAAkBG,aAAlB;AAAA,MAAiCC,UAAjC,GAAgDJ,YAAhD,CAAiCI,UAAjC;;AACA,MAAIF,QAAJ,EAAc;AACZH,IAAAA,QAAQ,CAACM,IAAT,CAAcC,GAAd,uBAAsCJ,QAAtC;AACAH,IAAAA,QAAQ,CAACM,IAAT,CAAcE,IAAd,CAAmB,iBAAnB,EAAsCN,IAAtC,EAA4C;AAC1CF,MAAAA,QAAQ,EAARA,QAD0C;AAE1CI,MAAAA,aAAa,EAAbA,aAF0C;AAG1CC,MAAAA,UAAU,EAAVA;AAH0C,KAA5C;AAKD;AACF;;AAEDI,MAAM,CAACC,OAAP,GAAiBb,QAAQ,CAACE,mBAAD,EAAsB,GAAtB,EAA2B;AAClDY,EAAAA,OAAO,EAAE,IADyC;AAElDC,EAAAA,QAAQ,EAAE;AAFwC,CAA3B,CAAzB","sourcesContent":["const throttle = require('lodash.throttle')\n\nfunction _emitSocketProgress (uploader, progressData, file) {\n  const { progress, bytesUploaded, bytesTotal } = progressData\n  if (progress) {\n    uploader.uppy.log(`Upload progress: ${progress}`)\n    uploader.uppy.emit('upload-progress', file, {\n      uploader,\n      bytesUploaded,\n      bytesTotal,\n    })\n  }\n}\n\nmodule.exports = throttle(_emitSocketProgress, 300, {\n  leading: true,\n  trailing: true,\n})\n"]}